generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model sys_logininfor {
  info_id     Int       @id @default(autoincrement())
  user_name   String?   @default("") @db.VarChar(50)
  ipaddr      String?   @default("") @db.VarChar(128)
  status      String?   @default("0") @db.Char(1)
  msg         String?   @default("") @db.VarChar(255)
  access_time DateTime? @db.DateTime(0)

  @@index([access_time], map: "idx_sys_logininfor_lt")
  @@index([status], map: "idx_sys_logininfor_s")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model sys_role {
  role_id             Int       @id @default(autoincrement())
  role_name           String    @db.VarChar(30)
  role_key            String    @db.VarChar(100)
  role_sort           Int
  data_scope          String?   @default("1") @db.Char(1)
  menu_check_strictly Boolean?  @default(true)
  dept_check_strictly Boolean?  @default(true)
  status              String    @db.Char(1)
  del_flag            String?   @default("0") @db.Char(1)
  create_by           String?   @default("") @db.VarChar(64)
  create_time         DateTime? @db.DateTime(0)
  update_by           String?   @default("") @db.VarChar(64)
  update_time         DateTime? @db.DateTime(0)
  remark              String?   @db.VarChar(500)
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model sys_role_menu {
  role_id Int
  menu_id Int

  @@id([role_id, menu_id])
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model sys_user {
  user_id     Int       @id @default(autoincrement())
  dept_id     Int?
  user_name   String    @db.VarChar(30)
  nick_name   String    @db.VarChar(30)
  user_type   String?   @default("00") @db.VarChar(2)
  email       String?   @default("") @db.VarChar(50)
  phonenumber String?   @default("") @db.VarChar(11)
  sex         String?   @default("0") @db.Char(1)
  avatar      String?   @default("") @db.VarChar(100)
  password    String?   @default("") @db.VarChar(100)
  status      String?   @default("0") @db.Char(1)
  del_flag    String?   @default("0") @db.Char(1)
  login_ip    String?   @default("") @db.VarChar(128)
  login_date  DateTime? @db.DateTime(0)
  create_by   String?   @default("") @db.VarChar(64)
  create_time DateTime? @db.DateTime(0)
  update_by   String?   @default("") @db.VarChar(64)
  update_time DateTime? @db.DateTime(0)
  remark      String?   @db.VarChar(500)
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model sys_dept {
  dept_id     Int       @id @default(autoincrement())
  parent_id   Int?      @default(0)
  ancestors   String?   @default("") @db.VarChar(50)
  dept_name   String?   @default("") @db.VarChar(30)
  order_num   Int?      @default(0)
  leader      String?   @db.VarChar(20)
  phone       String?   @db.VarChar(11)
  email       String?   @db.VarChar(50)
  status      String?   @default("0") @db.Char(1)
  del_flag    String?   @default("0") @db.Char(1)
  create_by   String?   @default("") @db.VarChar(64)
  create_time DateTime? @db.DateTime(0)
  update_by   String?   @default("") @db.VarChar(64)
  update_time DateTime? @db.DateTime(0)
  remark      String?   @db.VarChar(500)
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model sys_post {
  post_id     Int       @id @default(autoincrement())
  post_code   String    @db.VarChar(64)
  post_name   String    @db.VarChar(50)
  post_sort   Int
  status      String    @db.Char(1)
  create_by   String?   @default("") @db.VarChar(64)
  create_time DateTime? @db.DateTime(0)
  update_by   String?   @default("") @db.VarChar(64)
  update_time DateTime? @db.DateTime(0)
  remark      String?   @db.VarChar(500)
  del_flag    String?   @default("0") @db.Char(1)
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model sys_role_dept {
  role_id Int
  dept_id Int

  @@id([role_id, dept_id])
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model sys_user_post {
  user_id Int
  post_id Int

  @@id([user_id, post_id])
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model sys_user_role {
  user_id Int
  role_id Int

  @@id([user_id, role_id])
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model sys_menu {
  menu_id     Int       @id @default(autoincrement())
  menu_name   String    @db.VarChar(50)
  menu_key    String?   @default("") @db.VarChar(50)
  parent_id   Int?      @default(0)
  order_num   Int?      @default(0)
  path        String?   @default("") @db.VarChar(200)
  component   String?   @db.VarChar(255)
  query       String?   @db.VarChar(255)
  is_frame    Int?      @default(1)
  is_cache    Int?      @default(0)
  menu_type   String?   @default("") @db.Char(1)
  visible     Int?      @default(0)
  status      Int?      @default(0)
  perms       String?   @db.VarChar(100)
  icon        String?   @default("#") @db.VarChar(100)
  create_by   String?   @default("") @db.VarChar(64)
  create_time DateTime? @db.DateTime(0)
  update_by   String?   @default("") @db.VarChar(64)
  update_time DateTime? @db.DateTime(0)
  remark      String?   @default("") @db.VarChar(500)
  del_flag    Int?      @default(0)
}
